<div fxLayout="column" fxLayoutAlign="center center" class="encabezado">
  <h1>
    Seleccione dos reportes de periodos correspondientes para comparar
  </h1>
</div>

<div class="pasoapaso">
  <mat-stepper [linear]="true" #stepper>
    <mat-step
      [stepControl]="firstFormGroup"
      completed="{{ completo1 }}"
      label="Cargar archivo m치s reciente"
    >
      <form
        fxLayout="column"
        fxLayoutAlign="center center"
        fxLayoutGap="10px"
        #f="ngForm"
        (ngSubmit)="onSubmit(f)"
      >
        <label for="input-file-id" class="md-button md-raised md-primary"
          >Seleccione el archivo del periodo m치s reciente</label
        >
        <input
          type="file"
          appReadexcel
          #readexcel="readexcel"
          (eventEmitter)="DataFromEventEmitter($event)"
        />
        <button
          mat-raised-button
          color="primary"
          matStepperNext
          (click)="onSubmit(f)"
          [disabled]="f.invalid"
        >
          Siguiente
        </button>
        <mat-spinner *ngIf="isLoading$ | async"></mat-spinner>
      </form>
    </mat-step>
    <mat-step
      [stepControl]="secondFormGroup"
      completed="{{ completo2 }}"
      label="Cargar archivo m치s antiguo"
    >
      <form
        fxLayout="column"
        fxLayoutAlign="center center"
        fxLayoutGap="10px"
        #form2="ngForm"
        (ngSubmit)="onSubmitComparacion(form2)"
      >
        <label for="input-file-id" class="md-button md-raised md-primary"
          >Seleccione el archivo del periodo m치s antiguo</label
        >
        <input
          id="excel-1"
          type="file"
          appComparativeexcel
          #comparativeexcel="comparativeexcel"
          (eventEmitter)="DataFromEventEmitter($event)"
        />
        <button
          mat-raised-button
          color="primary"
          matStepperNext
          (click)="onSubmitComparacion(form2)"
          [disabled]="f.invalid"
        >
          Siguiente
        </button>
        <mat-spinner *ngIf="isLoading$ | async"></mat-spinner>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Analizar archivos</ng-template>
      <div>
        <button
        *ngIf="!(isLoading$ | async)"
        type="submit"
        mat-raised-button
        color="primary"
        [disabled]="f.invalid"
        (click)="submit()"
      >
        Analizar
      </button>
      </div>
    </mat-step>
  </mat-stepper>
</div>

